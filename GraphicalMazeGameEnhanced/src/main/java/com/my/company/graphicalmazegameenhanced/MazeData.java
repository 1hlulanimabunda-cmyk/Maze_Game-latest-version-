// File: src/main/java/com/mycompany/graphicalmazegameenhanced/MazeData.java
// FINAL VERSION: 4 Levels | Level 4 = FINAL | 'H' at (8,7) | Exit at (8,8) | WIN!

package com.mycompany.graphicalmazegameenhanced;

import java.util.Random;

public class MazeData {
    private static final Random random = new Random();

    /* --------------------------------------------------------------
       LEVEL 1 – Crystal of Eternity ('A')
       -------------------------------------------------------------- */
    public static final char[][] LEVEL1 = {
        {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
        {'#', 'P', '.', '.', '#', '.', '.', '.', '.', '#'},
        {'#', '.', '#', '.', '.', 'M', '#', '#', '.', '#'},
        {'#', '.', '#', '#', '#', '.', '#', '.', '.', '#'},
        {'#', 'A', '.', 'G', '#', '.', '#', '.', '#', '#'},  // 'A' at (4,1)
        {'#', '#', '.', '.', '#', '.', '.', '.', '.', '#'},
        {'#', '.', '#', '#', '#', '#', '#', '.', '#', '#'},
        {'#', '.', '.', '.', '.', '.', '#', '.', '.', '#'},
        {'#', '#', '#', '#', '#', '.', '#', 'M', 'E', '#'},  // Exit (8,8)
        {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}
    };

    /* --------------------------------------------------------------
       LEVEL 2 – Ancient Altar Seal ('S')
       -------------------------------------------------------------- */
    public static final char[][] LEVEL2 = {
        {'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W'},
        {'W', 'P', 'T', '.', 'W', '.', 'T', '.', '.', 'W'},
        {'W', '.', 'W', '.', '.', 'M', 'W', 'W', 'T', 'W'},
        {'W', 'T', 'W', 'W', 'W', '.', 'W', '.', '.', 'W'},
        {'W', '.', '.', 'G', 'W', 'T', 'W', '.', 'W', 'W'},
        {'W', 'W', '.', '.', 'W', '.', '.', 'T', '.', 'W'},
        {'W', '.', 'W', 'W', 'W', 'W', 'W', '.', 'W', 'W'},
        {'W', '.', 'T', '.', '.', '.', 'W', 'M', '.', 'W'},
        {'W', 'W', 'W', 'W', 'W', '.', 'W', 'E', 'S', 'W'},  // 'S' at (8,8), Exit (8,7)
        {'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W'}
    };

    /* --------------------------------------------------------------
       LEVEL 3 – Celestial Spire ('C')
       -------------------------------------------------------------- */
    public static final char[][] LEVEL3 = {
        {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
        {'#', 'P', '.', 'T', '#', '.', '.', '.', '.', '#'},
        {'#', '.', '#', '.', '.', 'M', '#', 'T', '.', '#'},
        {'#', 'T', '#', '#', '#', '.', '#', '.', '.', '#'},
        {'#', '.', '.', 'G', '#', 'T', '#', '.', '#', '#'},
        {'#', '#', '.', '.', '#', '.', '.', 'T', '.', '#'},
        {'#', '.', '#', '#', '#', '#', '#', '.', '#', '#'},
        {'#', '.', 'T', '.', '.', '.', '#', 'M', '.', '#'},
        {'#', '#', '#', '#', '#', '.', '#', 'C', 'E', '#'},  // 'C' at (8,7), Exit (8,8)
        {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}
    };

    /* --------------------------------------------------------------
       LEVEL 4 – FINAL LEVEL: Warden's Heart ('H') - PICK 'H' TO WIN!
       -------------------------------------------------------------- */
    public static final char[][] LEVEL4 = {
        {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#'},
        {'#', 'P', '.', '.', '#', '.', '.', '.', '.', '#'},
        {'#', '.', '#', '.', '.', 'M', '#', '#', '.', '#'},
        {'#', '.', '#', '#', '#', '.', '#', '.', '.', '#'},
        {'#', '.', 'T', 'G', '#', '.', 'B', 'T', '#', '#'},  // Boss 'B' at (4,6)
        {'#', '#', '.', '.', '#', '.', '.', '.', '.', '#'},
        {'#', '.', '#', 'X', '#', '#', '#', '.', '#', '#'},
        {'#', '.', '.', '.', '.', '.', '#', '.', '.', '#'},
        {'#', '#', '#', '#', '#', '.', '#', 'H', 'E', '#'},  // 'H' at (8,7), Exit (8,8) → WIN!
        {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#'}
    };

    /* --------------------------------------------------------------
       Utility methods - Protects items: A,S,C,H
       -------------------------------------------------------------- */
    public static char[][] getMazeClone(int level) {
        char[][] src = switch (level) {
            case 1 -> LEVEL1;
            case 2 -> LEVEL2;
            case 3 -> LEVEL3;
            case 4 -> LEVEL4;
            default -> LEVEL1;
        };
        char[][] out = new char[src.length][src[0].length];
        for (int i = 0; i < src.length; i++) out[i] = src[i].clone();
        return out;
    }

    public static int[] getSagePositionForLevel(int level) {
        return new int[]{4, 3};  // Sage always at (4,3)
    }

    public static void addRandomDecorations(char[][] maze, int count) {
        for (int i = 0; i < count; i++) {
            int rx, ry;
            do {
                rx = random.nextInt(maze.length);
                ry = random.nextInt(maze[0].length);
            } while (maze[rx][ry] != '.' ||
                    (rx == 1 && ry == 1) ||           // player start
                    (rx == 4 && ry == 3) ||           // sage
                    maze[rx][ry] == 'E' ||            // exit
                    "ASCH".indexOf(maze[rx][ry]) != -1 ||  // ALL items: A,S,C,H
                    maze[rx][ry] == 'M' || maze[rx][ry] == 'B');

            maze[rx][ry] = 'T';  // Add decoration
        }
    }
}